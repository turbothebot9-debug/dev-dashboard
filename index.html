<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dev Dashboard</title>
  <style>
    :root {
      --bg: #0d1117;
      --bg-card: #161b22;
      --bg-hover: #21262d;
      --border: #30363d;
      --text: #c9d1d9;
      --text-dim: #8b949e;
      --accent: #58a6ff;
      --green: #3fb950;
      --yellow: #d29922;
      --red: #f85149;
      --purple: #a371f7;
    }
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 24px;
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
    }
    
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border);
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .logo-icon {
      font-size: 32px;
    }
    
    h1 {
      font-size: 24px;
      font-weight: 600;
    }
    
    .time {
      font-size: 32px;
      font-weight: 300;
      color: var(--text-dim);
    }
    
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 24px;
    }
    
    .card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
    }
    
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .card-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--text-dim);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    /* System Stats */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }
    
    .stat {
      text-align: center;
      padding: 16px;
      background: var(--bg);
      border-radius: 8px;
    }
    
    .stat-value {
      font-size: 28px;
      font-weight: 600;
      margin-bottom: 4px;
    }
    
    .stat-label {
      font-size: 12px;
      color: var(--text-dim);
    }
    
    .stat.green .stat-value { color: var(--green); }
    .stat.yellow .stat-value { color: var(--yellow); }
    .stat.red .stat-value { color: var(--red); }
    .stat.accent .stat-value { color: var(--accent); }
    
    /* Progress bars */
    .progress-bar {
      height: 6px;
      background: var(--bg);
      border-radius: 3px;
      overflow: hidden;
      margin-top: 8px;
    }
    
    .progress-fill {
      height: 100%;
      border-radius: 3px;
      transition: width 0.3s ease;
    }
    
    .progress-fill.green { background: var(--green); }
    .progress-fill.yellow { background: var(--yellow); }
    .progress-fill.red { background: var(--red); }
    
    /* Git Activity */
    .commit-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
      max-height: 300px;
      overflow-y: auto;
    }
    
    .commit {
      display: flex;
      gap: 12px;
      padding: 12px;
      background: var(--bg);
      border-radius: 8px;
    }
    
    .commit-icon {
      width: 36px;
      height: 36px;
      background: var(--accent);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      flex-shrink: 0;
    }
    
    .commit-details {
      flex: 1;
      min-width: 0;
    }
    
    .commit-msg {
      font-size: 14px;
      margin-bottom: 4px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .commit-meta {
      font-size: 12px;
      color: var(--text-dim);
    }
    
    .commit-repo {
      color: var(--accent);
    }
    
    /* Quick Links */
    .links-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }
    
    .quick-link {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 16px;
      background: var(--bg);
      border-radius: 8px;
      text-decoration: none;
      color: var(--text);
      transition: background 0.2s, transform 0.1s;
    }
    
    .quick-link:hover {
      background: var(--bg-hover);
      transform: translateX(4px);
    }
    
    .link-icon {
      font-size: 24px;
    }
    
    .link-text {
      font-weight: 500;
    }
    
    /* Todo List */
    .todo-input-wrap {
      display: flex;
      gap: 8px;
      margin-bottom: 16px;
    }
    
    .todo-input {
      flex: 1;
      padding: 12px 16px;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      font-size: 14px;
    }
    
    .todo-input:focus {
      outline: none;
      border-color: var(--accent);
    }
    
    .todo-add {
      padding: 12px 20px;
      background: var(--accent);
      border: none;
      border-radius: 8px;
      color: white;
      font-weight: 600;
      cursor: pointer;
    }
    
    .todo-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
      max-height: 250px;
      overflow-y: auto;
    }
    
    .todo-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: var(--bg);
      border-radius: 8px;
    }
    
    .todo-check {
      width: 20px;
      height: 20px;
      border: 2px solid var(--border);
      border-radius: 4px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }
    
    .todo-check.done {
      background: var(--green);
      border-color: var(--green);
    }
    
    .todo-text {
      flex: 1;
      font-size: 14px;
    }
    
    .todo-item.done .todo-text {
      text-decoration: line-through;
      color: var(--text-dim);
    }
    
    .todo-delete {
      opacity: 0;
      background: none;
      border: none;
      color: var(--red);
      cursor: pointer;
      padding: 4px;
      font-size: 16px;
    }
    
    .todo-item:hover .todo-delete {
      opacity: 1;
    }
    
    /* Weather */
    .weather-main {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 16px;
    }
    
    .weather-icon {
      font-size: 64px;
    }
    
    .weather-temp {
      font-size: 48px;
      font-weight: 300;
    }
    
    .weather-desc {
      color: var(--text-dim);
      margin-top: 4px;
    }
    
    .weather-details {
      display: flex;
      gap: 24px;
      padding-top: 16px;
      border-top: 1px solid var(--border);
    }
    
    .weather-detail {
      text-align: center;
    }
    
    .weather-detail-value {
      font-size: 18px;
      font-weight: 500;
    }
    
    .weather-detail-label {
      font-size: 12px;
      color: var(--text-dim);
    }
    
    /* Greeting */
    .greeting-card {
      grid-column: span 2;
      background: linear-gradient(135deg, #1a1f35 0%, #0d1117 100%);
      border: 1px solid var(--border);
    }
    
    .greeting {
      font-size: 32px;
      font-weight: 300;
      margin-bottom: 8px;
    }
    
    .greeting-sub {
      color: var(--text-dim);
      font-size: 16px;
    }
    
    .greeting-quote {
      margin-top: 20px;
      padding: 16px;
      background: var(--bg);
      border-radius: 8px;
      font-style: italic;
      color: var(--text-dim);
      border-left: 3px solid var(--purple);
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .grid { grid-template-columns: 1fr; }
      .greeting-card { grid-column: span 1; }
      .stats-grid { grid-template-columns: 1fr; }
      .links-grid { grid-template-columns: 1fr; }
    }
    
    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
    }
    ::-webkit-scrollbar-track {
      background: var(--bg);
    }
    ::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 3px;
    }
    
    /* Pomodoro Timer */
    .pomodoro-display {
      text-align: center;
      padding: 20px 0;
    }
    
    .pomodoro-time {
      font-size: 72px;
      font-weight: 200;
      font-family: 'SF Mono', 'Monaco', monospace;
      color: var(--text);
      letter-spacing: 4px;
    }
    
    .pomodoro-status {
      font-size: 14px;
      color: var(--text-dim);
      margin-top: 8px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }
    
    .pomodoro-status.focus { color: var(--red); }
    .pomodoro-status.break { color: var(--green); }
    
    .pomodoro-controls {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-top: 20px;
    }
    
    .pomo-btn {
      padding: 12px 24px;
      border: 1px solid var(--border);
      border-radius: 8px;
      background: var(--bg);
      color: var(--text);
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .pomo-btn:hover {
      background: var(--bg-hover);
    }
    
    .pomo-btn.primary {
      background: var(--accent);
      border-color: var(--accent);
      color: white;
    }
    
    .pomo-btn.primary:hover {
      filter: brightness(1.1);
    }
    
    .pomodoro-stats {
      display: flex;
      justify-content: center;
      gap: 32px;
      margin-top: 20px;
      padding-top: 16px;
      border-top: 1px solid var(--border);
    }
    
    .pomo-stat {
      text-align: center;
    }
    
    .pomo-stat-value {
      font-size: 24px;
      font-weight: 600;
      color: var(--accent);
    }
    
    .pomo-stat-label {
      font-size: 11px;
      color: var(--text-dim);
      text-transform: uppercase;
      margin-top: 4px;
    }

    /* Habit Tracker Styles */
    .habits-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 12px;
      max-height: 200px;
      overflow-y: auto;
    }

    .habit-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px 12px;
      background: var(--bg);
      border-radius: 8px;
      transition: all 0.2s ease;
    }

    .habit-item:hover {
      background: var(--bg-hover);
    }

    .habit-item.completed {
      opacity: 0.6;
    }

    .habit-item.completed .habit-name {
      text-decoration: line-through;
    }

    .habit-checkbox {
      width: 22px;
      height: 22px;
      border: 2px solid var(--border);
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      flex-shrink: 0;
    }

    .habit-checkbox:hover {
      border-color: var(--accent);
    }

    .habit-item.completed .habit-checkbox {
      background: var(--green);
      border-color: var(--green);
    }

    .habit-item.completed .habit-checkbox::after {
      content: '‚úì';
      color: white;
      font-size: 14px;
    }

    .habit-name {
      flex: 1;
      font-size: 14px;
    }

    .habit-delete {
      background: none;
      border: none;
      color: var(--text-dim);
      cursor: pointer;
      padding: 4px;
      opacity: 0;
      transition: opacity 0.2s;
    }

    .habit-item:hover .habit-delete {
      opacity: 1;
    }

    .habit-delete:hover {
      color: var(--red);
    }

    .habits-add {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
    }

    .habits-add input {
      flex: 1;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 10px 12px;
      color: var(--text);
      font-size: 14px;
    }

    .habits-add input:focus {
      outline: none;
      border-color: var(--accent);
    }

    .habits-add button {
      background: var(--accent);
      border: none;
      border-radius: 8px;
      width: 40px;
      color: white;
      font-size: 20px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .habits-add button:hover {
      background: #4a94e6;
    }

    .habits-progress {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .habits-progress-bar {
      flex: 1;
      height: 8px;
      background: var(--bg);
      border-radius: 4px;
      overflow: hidden;
    }

    .habits-progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--green), var(--accent));
      border-radius: 4px;
      transition: width 0.3s ease;
      width: 0%;
    }

    .habits-progress-text {
      font-size: 12px;
      color: var(--text-dim);
      white-space: nowrap;
    }

    .habits-empty {
      text-align: center;
      padding: 20px;
      color: var(--text-dim);
      font-size: 14px;
    }

    /* Quick Notes Styles */
    .quick-notes {
      width: 100%;
      min-height: 150px;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px;
      color: var(--text);
      font-size: 14px;
      font-family: inherit;
      resize: vertical;
      line-height: 1.6;
    }

    .quick-notes:focus {
      outline: none;
      border-color: var(--accent);
    }

    .icon-btn {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 16px;
      opacity: 0.6;
      transition: opacity 0.2s;
    }

    .icon-btn:hover {
      opacity: 1;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <span class="logo-icon">‚ö°</span>
        <h1>Dev Dashboard</h1>
      </div>
      <div class="time" id="clock">--:--</div>
    </header>

    <div class="grid">
      <!-- Greeting Card -->
      <div class="card greeting-card">
        <div class="greeting" id="greeting">Hello, Ben!</div>
        <div class="greeting-sub" id="date-display">Loading...</div>
        <div class="greeting-quote" id="quote">
          "The only way to do great work is to love what you do." ‚Äî Steve Jobs
        </div>
      </div>

      <!-- System Stats -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">üíª System</span>
        </div>
        <div class="stats-grid">
          <div class="stat green">
            <div class="stat-value" id="cpu-usage">--</div>
            <div class="stat-label">CPU Usage</div>
            <div class="progress-bar">
              <div class="progress-fill green" id="cpu-bar" style="width: 0%"></div>
            </div>
          </div>
          <div class="stat accent">
            <div class="stat-value" id="ram-usage">--</div>
            <div class="stat-label">Memory</div>
            <div class="progress-bar">
              <div class="progress-fill green" id="ram-bar" style="width: 0%"></div>
            </div>
          </div>
          <div class="stat yellow">
            <div class="stat-value" id="disk-usage">--</div>
            <div class="stat-label">Disk</div>
            <div class="progress-bar">
              <div class="progress-fill yellow" id="disk-bar" style="width: 0%"></div>
            </div>
          </div>
          <div class="stat green">
            <div class="stat-value" id="uptime">--</div>
            <div class="stat-label">Uptime</div>
          </div>
        </div>
      </div>

      <!-- Weather -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">üå§Ô∏è Weather</span>
          <span id="weather-location" style="font-size: 12px; color: var(--text-dim);">Dallas, TX</span>
        </div>
        <div class="weather-main">
          <div class="weather-icon" id="weather-icon">‚òÄÔ∏è</div>
          <div>
            <div class="weather-temp" id="weather-temp">--¬∞</div>
            <div class="weather-desc" id="weather-desc">Loading...</div>
          </div>
        </div>
        <div class="weather-details">
          <div class="weather-detail">
            <div class="weather-detail-value" id="weather-feels">--¬∞</div>
            <div class="weather-detail-label">Feels Like</div>
          </div>
          <div class="weather-detail">
            <div class="weather-detail-value" id="weather-humidity">--%</div>
            <div class="weather-detail-label">Humidity</div>
          </div>
          <div class="weather-detail">
            <div class="weather-detail-value" id="weather-wind">-- mph</div>
            <div class="weather-detail-label">Wind</div>
          </div>
        </div>
      </div>

      <!-- Quick Links -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">üîó Quick Links</span>
        </div>
        <div class="links-grid">
          <a href="https://github.com/turbothebot9-debug" class="quick-link" target="_blank">
            <span class="link-icon">üìÇ</span>
            <span class="link-text">GitHub</span>
          </a>
          <a href="https://github.com/turbothebot9-debug/ARCart" class="quick-link" target="_blank">
            <span class="link-icon">üõí</span>
            <span class="link-text">ARCart</span>
          </a>
          <a href="http://localhost:5173" class="quick-link" target="_blank">
            <span class="link-icon">üöÄ</span>
            <span class="link-text">Dev Server</span>
          </a>
          <a href="http://localhost:8000/docs" class="quick-link" target="_blank">
            <span class="link-icon">ü§ñ</span>
            <span class="link-text">ML API</span>
          </a>
          <a href="https://chat.openai.com" class="quick-link" target="_blank">
            <span class="link-icon">üí¨</span>
            <span class="link-text">ChatGPT</span>
          </a>
          <a href="https://claude.ai" class="quick-link" target="_blank">
            <span class="link-icon">üß†</span>
            <span class="link-text">Claude</span>
          </a>
        </div>
      </div>

      <!-- Git Activity -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">üìä Recent Commits</span>
          <button onclick="refreshCommits()" style="background: none; border: none; color: var(--accent); cursor: pointer;">‚Üª Refresh</button>
        </div>
        <div class="commit-list" id="commit-list">
          <div class="commit">
            <div class="commit-icon">üîÑ</div>
            <div class="commit-details">
              <div class="commit-msg">Loading commits...</div>
              <div class="commit-meta">Checking repos...</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Todo List -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">‚úÖ Tasks</span>
          <span id="todo-count" style="font-size: 12px; color: var(--text-dim);">0 items</span>
        </div>
        <div class="todo-input-wrap">
          <input type="text" class="todo-input" id="todo-input" placeholder="Add a task..." onkeypress="if(event.key==='Enter')addTodo()">
          <button class="todo-add" onclick="addTodo()">Add</button>
        </div>
        <div class="todo-list" id="todo-list"></div>
      </div>

      <!-- Pomodoro Timer -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">üçÖ Pomodoro Timer</span>
        </div>
        <div class="pomodoro-display">
          <div class="pomodoro-time" id="pomo-time">25:00</div>
          <div class="pomodoro-status" id="pomo-status">Ready to focus</div>
        </div>
        <div class="pomodoro-controls">
          <button class="pomo-btn primary" id="pomo-start" onclick="pomoToggle()">Start</button>
          <button class="pomo-btn" onclick="pomoReset()">Reset</button>
          <button class="pomo-btn" onclick="pomoSkip()">Skip</button>
        </div>
        <div class="pomodoro-stats">
          <div class="pomo-stat">
            <div class="pomo-stat-value" id="pomo-completed">0</div>
            <div class="pomo-stat-label">Pomodoros</div>
          </div>
          <div class="pomo-stat">
            <div class="pomo-stat-value" id="pomo-focus-time">0h 0m</div>
            <div class="pomo-stat-label">Focus Time</div>
          </div>
        </div>
      </div>

      <!-- Habit Tracker -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">üéØ Daily Habits</span>
          <span class="card-badge" id="habits-streak">üî• 0 day streak</span>
        </div>
        <div class="habits-list" id="habits-list">
          <!-- Populated by JS -->
        </div>
        <div class="habits-add">
          <input type="text" id="new-habit-input" placeholder="Add new habit..." maxlength="30">
          <button onclick="addHabit()">+</button>
        </div>
        <div class="habits-progress">
          <div class="habits-progress-bar">
            <div class="habits-progress-fill" id="habits-progress-fill"></div>
          </div>
          <span class="habits-progress-text" id="habits-progress-text">0 / 0 completed</span>
        </div>
      </div>

      <!-- Quick Notes -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">üìù Quick Notes</span>
          <button class="icon-btn" onclick="clearNotes()" title="Clear">üóëÔ∏è</button>
        </div>
        <textarea id="quick-notes" class="quick-notes" placeholder="Jot down quick thoughts, ideas, or reminders..."></textarea>
      </div>
    </div>
  </div>

  <script>
    // ===== Clock & Date =====
    function updateClock() {
      const now = new Date();
      document.getElementById('clock').textContent = now.toLocaleTimeString('en-US', { 
        hour: '2-digit', 
        minute: '2-digit',
        hour12: true 
      });
      
      document.getElementById('date-display').textContent = now.toLocaleDateString('en-US', {
        weekday: 'long',
        month: 'long',
        day: 'numeric',
        year: 'numeric'
      });
      
      // Greeting based on time
      const hour = now.getHours();
      let greeting = 'Good evening';
      if (hour < 12) greeting = 'Good morning';
      else if (hour < 17) greeting = 'Good afternoon';
      document.getElementById('greeting').textContent = `${greeting}, Ben! üëã`;
    }
    updateClock();
    setInterval(updateClock, 1000);

    // ===== Quotes =====
    const quotes = [
      '"The only way to do great work is to love what you do." ‚Äî Steve Jobs',
      '"First, solve the problem. Then, write the code." ‚Äî John Johnson',
      '"Code is like humor. When you have to explain it, it\'s bad." ‚Äî Cory House',
      '"Simplicity is the soul of efficiency." ‚Äî Austin Freeman',
      '"Make it work, make it right, make it fast." ‚Äî Kent Beck',
      '"The best error message is the one that never shows up." ‚Äî Thomas Fuchs',
      '"Programming isn\'t about what you know; it\'s about what you can figure out." ‚Äî Chris Pine',
      '"Every great developer you know got there by solving problems they were unqualified to solve." ‚Äî Patrick McKenzie'
    ];
    document.getElementById('quote').textContent = quotes[Math.floor(Math.random() * quotes.length)];

    // ===== System Stats (simulated - would need backend) =====
    function updateSystemStats() {
      // These would come from a backend API in production
      const stats = {
        cpu: Math.floor(Math.random() * 30 + 10),
        ram: Math.floor(Math.random() * 20 + 40),
        disk: 62,
        uptime: '3d 14h'
      };
      
      document.getElementById('cpu-usage').textContent = stats.cpu + '%';
      document.getElementById('cpu-bar').style.width = stats.cpu + '%';
      
      document.getElementById('ram-usage').textContent = stats.ram + '%';
      document.getElementById('ram-bar').style.width = stats.ram + '%';
      
      document.getElementById('disk-usage').textContent = stats.disk + '%';
      document.getElementById('disk-bar').style.width = stats.disk + '%';
      
      document.getElementById('uptime').textContent = stats.uptime;
      
      // Color coding
      const cpuBar = document.getElementById('cpu-bar');
      if (stats.cpu > 80) cpuBar.className = 'progress-fill red';
      else if (stats.cpu > 50) cpuBar.className = 'progress-fill yellow';
      else cpuBar.className = 'progress-fill green';
    }
    updateSystemStats();
    setInterval(updateSystemStats, 5000);

    // ===== Weather (using free API) =====
    async function fetchWeather() {
      try {
        // Using wttr.in which doesn't require API key
        const response = await fetch('https://wttr.in/Dallas?format=j1');
        const data = await response.json();
        const current = data.current_condition[0];
        
        const temp = Math.round(parseFloat(current.temp_F));
        const feels = Math.round(parseFloat(current.FeelsLikeF));
        const humidity = current.humidity;
        const wind = current.windspeedMiles;
        const desc = current.weatherDesc[0].value;
        
        // Weather icon mapping
        const code = parseInt(current.weatherCode);
        let icon = '‚òÄÔ∏è';
        if (code >= 200 && code < 300) icon = '‚õàÔ∏è';
        else if (code >= 300 && code < 500) icon = 'üåßÔ∏è';
        else if (code >= 500 && code < 600) icon = 'üåßÔ∏è';
        else if (code >= 600 && code < 700) icon = '‚ùÑÔ∏è';
        else if (code >= 700 && code < 800) icon = 'üå´Ô∏è';
        else if (code === 800 || code === 113) icon = '‚òÄÔ∏è';
        else if (code > 800 || (code > 113 && code < 200)) icon = '‚õÖ';
        
        document.getElementById('weather-icon').textContent = icon;
        document.getElementById('weather-temp').textContent = temp + '¬∞';
        document.getElementById('weather-desc').textContent = desc;
        document.getElementById('weather-feels').textContent = feels + '¬∞';
        document.getElementById('weather-humidity').textContent = humidity + '%';
        document.getElementById('weather-wind').textContent = wind + ' mph';
      } catch (e) {
        document.getElementById('weather-desc').textContent = 'Unable to load';
      }
    }
    fetchWeather();

    // ===== Git Commits (simulated - would need backend) =====
    const sampleCommits = [
      { msg: 'Add quantity controls, checkout modal, and category emojis', repo: 'ARCart', time: 'Just now', icon: '‚ú®' },
      { msg: 'Merge feature/dark-mode: Add theme support', repo: 'ARCart', time: '2 min ago', icon: 'üé®' },
      { msg: 'Fix: add stability check for false positives', repo: 'ARCart', time: '3 days ago', icon: 'üêõ' },
      { msg: 'Add ML training pipeline', repo: 'ARCart', time: '5 days ago', icon: 'ü§ñ' },
      { msg: 'Initial commit: project setup', repo: 'dev-dashboard', time: 'Today', icon: 'üöÄ' },
    ];

    function refreshCommits() {
      const list = document.getElementById('commit-list');
      list.innerHTML = sampleCommits.map(c => `
        <div class="commit">
          <div class="commit-icon">${c.icon}</div>
          <div class="commit-details">
            <div class="commit-msg">${c.msg}</div>
            <div class="commit-meta">
              <span class="commit-repo">${c.repo}</span> ‚Ä¢ ${c.time}
            </div>
          </div>
        </div>
      `).join('');
    }
    refreshCommits();

    // ===== Todo List with LocalStorage =====
    let todos = JSON.parse(localStorage.getItem('dashboard-todos') || '[]');

    function renderTodos() {
      const list = document.getElementById('todo-list');
      const count = document.getElementById('todo-count');
      
      const incomplete = todos.filter(t => !t.done).length;
      count.textContent = `${incomplete} of ${todos.length} remaining`;
      
      if (todos.length === 0) {
        list.innerHTML = '<div style="text-align: center; padding: 20px; color: var(--text-dim);">No tasks yet. Add one above!</div>';
        return;
      }
      
      list.innerHTML = todos.map((todo, i) => `
        <div class="todo-item ${todo.done ? 'done' : ''}" data-index="${i}">
          <div class="todo-check ${todo.done ? 'done' : ''}" onclick="toggleTodo(${i})">
            ${todo.done ? '‚úì' : ''}
          </div>
          <span class="todo-text">${todo.text}</span>
          <button class="todo-delete" onclick="deleteTodo(${i})">‚úï</button>
        </div>
      `).join('');
    }

    function addTodo() {
      const input = document.getElementById('todo-input');
      const text = input.value.trim();
      if (!text) return;
      
      todos.unshift({ text, done: false });
      localStorage.setItem('dashboard-todos', JSON.stringify(todos));
      input.value = '';
      renderTodos();
    }

    function toggleTodo(index) {
      todos[index].done = !todos[index].done;
      localStorage.setItem('dashboard-todos', JSON.stringify(todos));
      renderTodos();
    }

    function deleteTodo(index) {
      todos.splice(index, 1);
      localStorage.setItem('dashboard-todos', JSON.stringify(todos));
      renderTodos();
    }

    renderTodos();

    // ===== Pomodoro Timer =====
    const POMO_FOCUS = 25 * 60;  // 25 minutes
    const POMO_SHORT = 5 * 60;   // 5 minute break
    const POMO_LONG = 15 * 60;   // 15 minute break (every 4 pomodoros)
    
    let pomoState = JSON.parse(localStorage.getItem('dashboard-pomo') || JSON.stringify({
      timeLeft: POMO_FOCUS,
      isRunning: false,
      mode: 'focus',  // 'focus', 'short', 'long'
      completed: 0,
      totalFocusSeconds: 0
    }));
    
    let pomoInterval = null;
    
    function formatPomoTime(seconds) {
      const m = Math.floor(seconds / 60);
      const s = seconds % 60;
      return `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
    }
    
    function formatFocusTime(seconds) {
      const h = Math.floor(seconds / 3600);
      const m = Math.floor((seconds % 3600) / 60);
      return `${h}h ${m}m`;
    }
    
    function updatePomoDisplay() {
      document.getElementById('pomo-time').textContent = formatPomoTime(pomoState.timeLeft);
      
      const statusEl = document.getElementById('pomo-status');
      statusEl.className = 'pomodoro-status ' + pomoState.mode;
      
      if (pomoState.isRunning) {
        statusEl.textContent = pomoState.mode === 'focus' ? 'üî• Focus time!' : '‚òï Take a break';
      } else {
        statusEl.textContent = pomoState.mode === 'focus' ? 'Ready to focus' : 'Break time';
      }
      
      document.getElementById('pomo-completed').textContent = pomoState.completed;
      document.getElementById('pomo-focus-time').textContent = formatFocusTime(pomoState.totalFocusSeconds);
      document.getElementById('pomo-start').textContent = pomoState.isRunning ? 'Pause' : 'Start';
      
      localStorage.setItem('dashboard-pomo', JSON.stringify(pomoState));
    }
    
    function pomoTick() {
      if (pomoState.timeLeft <= 0) {
        // Timer finished
        pomoTimerComplete();
        return;
      }
      
      pomoState.timeLeft--;
      if (pomoState.mode === 'focus') {
        pomoState.totalFocusSeconds++;
      }
      updatePomoDisplay();
    }
    
    function pomoTimerComplete() {
      pomoState.isRunning = false;
      clearInterval(pomoInterval);
      pomoInterval = null;
      
      // Play notification sound
      try {
        const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleQwZmdbdp2xdCABc0/THo2kRE4vl7p2CLQBG1frLnHMkDp3v6YuHRABE4PavYmcwMqnz44R5UwNW5PSgVm1BQLT26HuBawpg5/CYTXFVXbzz7HN8fRhl7++STXRZZ8T27XV7hB9w8O+JQnFbdMr46HZ5iidz9u+CMm1bgtH65HV0kTF08/B9J2hdjtX83HFwlzt38/F4H2JglNn71G5snjx69vJzGFxfnN79zGlrpD599vRwFF1hpOD9xWNppUJ+9/RuE19irOH9wF9npUmD+vJpDltks+T9ul1lpE+H+/BmC1hkuef8tFpkpFOL/e5jCFZlv+r7r1hjpFeP/exgBVNlxe37qVZip1uR/ulcAVFmy+/5o1Nip1+V/udYAE9m0PH4nltiqGGX/uVU');
        audio.play().catch(() => {});
      } catch (e) {}
      
      // Show browser notification
      if (Notification.permission === 'granted') {
        new Notification(pomoState.mode === 'focus' ? 'üçÖ Pomodoro complete!' : '‚òï Break over!', {
          body: pomoState.mode === 'focus' ? 'Time for a break!' : 'Ready for another focus session?',
          icon: 'üçÖ'
        });
      }
      
      // Switch mode
      if (pomoState.mode === 'focus') {
        pomoState.completed++;
        // Long break every 4 pomodoros
        if (pomoState.completed % 4 === 0) {
          pomoState.mode = 'long';
          pomoState.timeLeft = POMO_LONG;
        } else {
          pomoState.mode = 'short';
          pomoState.timeLeft = POMO_SHORT;
        }
      } else {
        pomoState.mode = 'focus';
        pomoState.timeLeft = POMO_FOCUS;
      }
      
      updatePomoDisplay();
    }
    
    function pomoToggle() {
      if (pomoState.isRunning) {
        pomoState.isRunning = false;
        clearInterval(pomoInterval);
        pomoInterval = null;
      } else {
        pomoState.isRunning = true;
        pomoInterval = setInterval(pomoTick, 1000);
        
        // Request notification permission
        if (Notification.permission === 'default') {
          Notification.requestPermission();
        }
      }
      updatePomoDisplay();
    }
    
    function pomoReset() {
      pomoState.isRunning = false;
      clearInterval(pomoInterval);
      pomoInterval = null;
      pomoState.timeLeft = pomoState.mode === 'focus' ? POMO_FOCUS : 
                          pomoState.mode === 'short' ? POMO_SHORT : POMO_LONG;
      updatePomoDisplay();
    }
    
    function pomoSkip() {
      pomoState.isRunning = false;
      clearInterval(pomoInterval);
      pomoInterval = null;
      pomoTimerComplete();
    }
    
    // Initialize display
    updatePomoDisplay();
    
    // Resume if was running
    if (pomoState.isRunning) {
      pomoInterval = setInterval(pomoTick, 1000);
    }

    // ===== Habit Tracker =====
    const HABITS_KEY = 'dashboard-habits';
    const HABITS_HISTORY_KEY = 'dashboard-habits-history';
    
    let habits = JSON.parse(localStorage.getItem(HABITS_KEY)) || [
      { id: '1', name: 'üíª Code for 1 hour', completed: false },
      { id: '2', name: 'üìö Read 30 mins', completed: false },
      { id: '3', name: 'üèÉ Exercise', completed: false }
    ];
    
    let habitsHistory = JSON.parse(localStorage.getItem(HABITS_HISTORY_KEY)) || {};
    
    function getTodayKey() {
      return new Date().toISOString().split('T')[0];
    }
    
    function saveHabits() {
      localStorage.setItem(HABITS_KEY, JSON.stringify(habits));
      localStorage.setItem(HABITS_HISTORY_KEY, JSON.stringify(habitsHistory));
    }
    
    function renderHabits() {
      const container = document.getElementById('habits-list');
      
      if (habits.length === 0) {
        container.innerHTML = '<div class="habits-empty">Add habits to track your daily goals!</div>';
      } else {
        container.innerHTML = habits.map(habit => `
          <div class="habit-item ${habit.completed ? 'completed' : ''}" data-id="${habit.id}">
            <div class="habit-checkbox" onclick="toggleHabit('${habit.id}')"></div>
            <span class="habit-name">${habit.name}</span>
            <button class="habit-delete" onclick="deleteHabit('${habit.id}')">‚úï</button>
          </div>
        `).join('');
      }
      
      // Update progress
      const completed = habits.filter(h => h.completed).length;
      const total = habits.length;
      const percentage = total > 0 ? (completed / total * 100) : 0;
      
      document.getElementById('habits-progress-fill').style.width = percentage + '%';
      document.getElementById('habits-progress-text').textContent = `${completed} / ${total} completed`;
      
      // Update streak
      updateStreak();
    }
    
    function toggleHabit(id) {
      const habit = habits.find(h => h.id === id);
      if (habit) {
        habit.completed = !habit.completed;
        
        // Track in history
        const today = getTodayKey();
        if (!habitsHistory[today]) habitsHistory[today] = {};
        habitsHistory[today][id] = habit.completed;
        
        saveHabits();
        renderHabits();
      }
    }
    
    function addHabit() {
      const input = document.getElementById('new-habit-input');
      const name = input.value.trim();
      
      if (name) {
        habits.push({
          id: Date.now().toString(),
          name: name,
          completed: false
        });
        input.value = '';
        saveHabits();
        renderHabits();
      }
    }
    
    function deleteHabit(id) {
      habits = habits.filter(h => h.id !== id);
      saveHabits();
      renderHabits();
    }
    
    function updateStreak() {
      let streak = 0;
      const today = new Date();
      
      for (let i = 0; i < 365; i++) {
        const date = new Date(today);
        date.setDate(date.getDate() - i);
        const key = date.toISOString().split('T')[0];
        
        const dayHistory = habitsHistory[key];
        if (dayHistory) {
          const completedAll = Object.values(dayHistory).every(v => v === true);
          if (completedAll && Object.keys(dayHistory).length >= habits.length) {
            streak++;
          } else if (i > 0) {
            break;
          }
        } else if (i > 0) {
          break;
        }
      }
      
      document.getElementById('habits-streak').textContent = `üî• ${streak} day streak`;
    }
    
    // Reset habits at midnight
    function checkDayReset() {
      const lastReset = localStorage.getItem('dashboard-habits-lastReset');
      const today = getTodayKey();
      
      if (lastReset !== today) {
        // New day - reset completion status
        habits.forEach(h => h.completed = false);
        localStorage.setItem('dashboard-habits-lastReset', today);
        saveHabits();
        renderHabits();
      }
    }
    
    // Enter key to add habit
    document.getElementById('new-habit-input').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') addHabit();
    });
    
    checkDayReset();
    renderHabits();

    // ===== Quick Notes =====
    const NOTES_KEY = 'dashboard-quick-notes';
    const notesTextarea = document.getElementById('quick-notes');
    
    // Load saved notes
    notesTextarea.value = localStorage.getItem(NOTES_KEY) || '';
    
    // Auto-save on change
    notesTextarea.addEventListener('input', () => {
      localStorage.setItem(NOTES_KEY, notesTextarea.value);
    });
    
    function clearNotes() {
      if (notesTextarea.value && confirm('Clear all notes?')) {
        notesTextarea.value = '';
        localStorage.removeItem(NOTES_KEY);
      }
    }
  </script>
</body>
</html>
